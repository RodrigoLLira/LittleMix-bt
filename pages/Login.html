<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <link REL="SHORTCUT ICON" HREF="../img/store.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/login.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Login</title>
</head>
<body>
   <main id="container">
    <form id="login_form">
        <div id="login_top">
            
        </div>
            <div id="form_header">
                <div>

                </div>
                <h1>Login</h1>
              <div>

              </div>
            </div>
            <div id="inputs">
                <div class="input_box">
                    <label for="name">
                        Name
                        <div class="input_field">
                            <i class="fa-solid fa-user"></i>
                            <input type="text" id="name" name="name" >
                        </div>
                    </label>
                </div>
                <div class="input_box">
                    <label for="email">
                        Email
                        <div class="input_field">
                            <i class="fa-solid fa-envelope"></i>
                            <input type="text" id="email" name="email">
                        </div>
                    </label>
                </div>
                <div class="input_box">
                    <label for="Password">
                    Senha
                        <div class="input_field">
                            <i class="fa-solid fa-key"></i>
                            <input type="password" id="password" name="Password">
                        </div>
                    </label>
                </div>
                <div id="forgot_password" >
                    <a href="#" disabled="true">
                        Esqueceu a sua senha?
                    </a>
                </div>
            </div>
            <div id="social_media">
                <a href="#">
                    <img src="../img/icons8-facebook-48.png" alt=" Facebook Logo">
                </a>
                <a href="#">
                    <img src="../img/icons8-google-logo-48.png" alt=" Google Logo">
                </a>
            </div>
            <button id="login">
                Login
            </button>
            <div id="singin">
                <a href="./Cadastro.html">
                    CADASTRAR AQUI!
                </a>
            </div>
    </form>
   </main>

   <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
        import {
            getAuth,
            signInWithEmailAndPassword,
        
        } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyD6exsn8CElRmZJmAdXo4aiYY9ZebAXAHs",
            authDomain: "littlemixmobile.firebaseapp.com",
            databaseURL: "https://littlemixmobile-default-rtdb.firebaseio.com",
            projectId: "littlemixmobile",
            storageBucket: "littlemixmobile.appspot.com",
            messagingSenderId: "341192228717",
            appId: "1:341192228717:web:4272eaa5e89d0a54022464"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        const emailUser = document.querySelector("#email");
        const passwordUser = document.querySelector("#password");
        const loginButton = document.querySelector("#login");

        const login = async() => {
            const loginEmail = emailUser.value;
            const loginPassword = passwordUser.value;
            signInWithEmailAndPassword(auth, loginEmail, loginPassword)
            .then((userCredential) => {
              // Signed in
              const user = userCredential.user;
              alert('Login feito com Sucesso!')
              window.location.href = "../index.html"
            })
            .catch((error) => {
              const errorCode = error.code;
              const errorMessage = error.message;
              alert('Login feito com Sucesso!')
            });
        }

        loginButton.addEventListener('click', login);
   </script>
   
</body>
</html>